(function(a){var b={};var c={init:function(d){var e={pin:".pin",margin:10,columns:3,animate:false,animateTime:300,animateDelay:200};b=a.extend(true,e,d);b.selector=a(b.pin);this.css({position:"relative"});if(b.animate){b.selector.css("opacity",0)}return c.reposition.apply(this,arguments)},reposition:function(){a(b.pin).each(function(c){var e=d.getPinY(a(this));var f=d.getPinX(a(this));a(this).css({top:b.animate?e+30+"px":e+"px",left:f+"px"});if(b.animate){var g=a(this);window.setTimeout(function(){d.animate(g,e)},b.animateDelay*c)}});return this}};var d={getPinX:function(a){var c=a.index();var d=a.outerWidth();var e=c%b.columns;return e*(d+b.margin)},getPinY:function(a){var c=a.index();var d=c-b.columns;if(d>=0){var e=b.selector.eq(d);var f=e.outerHeight();var g=e.position().top;return f+g+b.margin}else{return 0}},animate:function(a,c){a.animate({opacity:1,top:c+"px"},b.animateTime)}};a.fn.pins=function(b){if(c[b]){return c[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return c.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist in jQuery pins")}}})(jQuery)
