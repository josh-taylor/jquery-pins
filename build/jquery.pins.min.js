!function(a){var b={},c={init:function(d){var e={pin:".pin",margin:10,columns:3,animate:!1,animateTime:300,animateDelay:200};b=a.extend(!0,e,d),b.selector=a(b.pin),this.css({position:"relative"}),b.animate&&b.selector.css("opacity",0),c.reposition.apply(this,arguments);var f=c.calculateHeight.apply(this);return this.height(f),this},reposition:function(){return a(b.pin).each(function(c){var e=d.getPinY(a(this)),f=d.getPinX(a(this)),g=e+30;if(a(this).css({position:"absolute",top:e+"px",left:f+"px"}),b.animate){var h=a(this);window.setTimeout(function(){d.animate(h,g,e)},b.animateDelay*c)}}),this},calculateHeight:function(){for(var c=Math.ceil(a(b.pin).length/b.columns),d=0,e=0;c>e;++e){for(var f=0,g=0;g<b.columns;++g){var h=e*b.columns+g;if(0==a(b.pin).eq(h).length)break;var i=a(b.pin).eq(h).outerHeight(!0);i>f&&(f=i)}d+=f}return d}},d={getPinX:function(a){var c=a.index(),d=a.outerWidth(),e=c%b.columns;return e*(d+b.margin)},getPinY:function(a){var c=a.index(),d=c-b.columns;if(d>=0){var e=b.selector.eq(d),f=e.outerHeight(),g=e.position().top;return f+g+b.margin}return 0},animate:function(a,c,d){a.css({opacity:0,top:c+"px"}).animate({opacity:1,top:d+"px"},b.animateTime)}};a.fn.pins=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist in jQuery pins"),void 0):c.init.apply(this,arguments)}}(jQuery);